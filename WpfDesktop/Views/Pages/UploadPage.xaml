<Page x:Class="WpfDesktop.Views.Pages.UploadPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:WpfDesktop.Views.Pages"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="UploadPage">

    <ScrollViewer>
        <Grid Margin="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,24">
                <ui:TextBlock
                    Text="Address Upload"
                    FontSize="28"
                    FontTypography="Title"/>
                <ui:TextBlock
                    Text="Configure your upload settings and provide the required information below."
                    FontSize="14"
                    Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}"/>
            </StackPanel>

            <!-- Required Information (Mail Request) -->
            <ui:Card Grid.Row="1" Margin="0,0,0,16">
                <StackPanel>
                    <ui:TextBlock
                        Text="Required Information"
                        FontSize="16"
                        FontWeight="Medium"
                        Margin="0,0,0,16"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Row 1 -->
                        <ui:TextBox
                            Grid.Row="0" Grid.Column="0"
                            Margin="0,0,8,12"
                            PlaceholderText="Sender ID"
                            Text="{Binding SenderID}"
                            Icon="Person24"/>

                        <ui:TextBox
                            Grid.Row="0" Grid.Column="1"
                            Margin="8,0,0,12"
                            PlaceholderText="Account ID"
                            Text="{Binding AccountID}"
                            Icon="PersonCard24"/>

                        <!-- Row 2 -->
                        <ui:TextBox
                            Grid.Row="1" Grid.Column="0"
                            Margin="0,0,8,12"
                            PlaceholderText="Sequence Number"
                            Text="{Binding SequenceNumber}"
                            Icon="Number24"/>

                        <ui:TextBox
                            Grid.Row="1" Grid.Column="1"
                            Margin="8,0,0,12"
                            PlaceholderText="Mailing Reference"
                            Text="{Binding MailingReference}"
                            Icon="Mail24"/>

                        <!-- Row 3 -->
                        <ComboBox
                            Grid.Row="2" Grid.Column="0"
                            Margin="0,0,8,12"
                            
                            SelectedItem="{Binding MailFormat}"
                            ItemsSource="{Binding MailFormatOptions}"/>

                        <ComboBox
                            Grid.Row="2" Grid.Column="1"
                            Margin="8,0,0,12"
                            
                            SelectedItem="{Binding Priority}"
                            ItemsSource="{Binding PriorityOptions}"/>

                        <!-- Row 4 -->
                        <ComboBox
                            Grid.Row="3" Grid.Column="0"
                            Margin="0,0,8,12"
                            SelectedItem="{Binding AddressLanguage}"
                            ItemsSource="{Binding LanguageOptions}"/>

                        <DatePicker
                            Grid.Row="3" Grid.Column="1"
                            Margin="8,0,0,12"
                            SelectedDate="{Binding ExpectedDelivery}"/>

                        <!-- Row 5 -->
                        <ComboBox
                            Grid.Row="4" Grid.Column="0"
                            Margin="0,0,8,12"
                            SelectedItem="{Binding DepositType}"
                            ItemsSource="{Binding DepositTypeOptions}"/>

                        <ui:TextBox
                            Grid.Row="4" Grid.Column="1"
                            Margin="8,0,0,12"
                            PlaceholderText="Deposit Identifier"
                            Text="{Binding DepositIdentifier}"
                            Icon="DocumentNumber24"/>
                    </Grid>
                </StackPanel>
            </ui:Card>

            <!-- Optional Settings -->
            <Expander Grid.Row="2" Margin="0,0,0,16">
                <Expander.Header>
                    <ui:TextBlock
                        Text="File Generation Options"
                        FontSize="16"
                        FontWeight="Medium"/>
                </Expander.Header>
                <ui:Card Margin="0,8,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Row 1 -->
                        <ComboBox
                            Grid.Column="0"
                            Margin="0,0,8,12"
                            
                            SelectedItem="{Binding OutputFormat}"
                            ItemsSource="{Binding OutputFormatOptions}"/>

                        <ComboBox
                            Grid.Column="1"
                            Margin="8,0,8,12"
                           
                            SelectedItem="{Binding Mode}"
                            ItemsSource="{Binding ModeOptions}"/>

                        <ComboBox
                            Grid.Column="2"
                            Margin="8,0,0,12"
                            
                            SelectedItem="{Binding SortingMode}"
                            ItemsSource="{Binding SortingModeOptions}"/>

                        <!-- Row 2 -->
                        <ui:ToggleSwitch
                            Grid.Row="1" Grid.Column="0"
                            Margin="0,0,8,0"
                            Content="Generate MailIds"
                            IsChecked="{Binding GenerateMailIds}"/>

                        <ui:ToggleSwitch
                            Grid.Row="1" Grid.Column="1"
                            Margin="8,0,0,0"
                            Content="Generate PreSorting"
                            IsChecked="{Binding GeneratePreSorting}"/>
                    </Grid>
                </ui:Card>
            </Expander>

            <!-- File Upload Section -->
            <StackPanel Grid.Row="3" >

                <ui:Card>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <DockPanel Grid.Row="0" LastChildFill="True" Margin="0,0,0,12">
                            <ui:Button
                                Margin="8,0,0,0"
                                Appearance="Primary"
                                DockPanel.Dock="Right"
                                Content="Choose File"
                                Icon="Upload24"
                                Command="{Binding UploadCommand}"/>
                            <ui:TextBox
                                Icon="Document24"
                                PlaceholderText="Select address file"
                                Text="{Binding SelectedFilePath, Mode=OneWay}"
                                IsReadOnly="True"/>
                        </DockPanel>

                        <ui:InfoBar
                            Grid.Row="1"
                            Title="Supported Formats"
                            Message="Please upload a CSV or XML file with address records"
                            Severity="Informational"
                            IsOpen="True"/>
                    </Grid>
                </ui:Card>

                <!-- Action Buttons -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <ui:Button
                        Grid.Column="1"
                        Content="Cancel"
                        Appearance="Secondary"
                        Margin="0,0,8,0"
                        Command="{Binding CancelCommand}"/>

                    <ui:Button
                        Grid.Column="2"
                        Content="Upload and Process"
                        Icon="ArrowUpload24"
                        Appearance="Primary"
                        Command="{Binding ProcessCommand}"/>
                </Grid>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>
